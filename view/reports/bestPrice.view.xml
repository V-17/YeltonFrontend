<!--
 * Copyright 2016 Yelton authors:
 * - Marat "Morion" Talipov
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->

<mvc:View
    controllerName="controller.reports.bestPrice"
    xmlns:l="sap.ui.layout"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns="sap.m">
    <Page showHeader="false" enableScrolling="false">
        <subHeader>
            <Toolbar>
                <Button icon="sap-icon://nav-back" press="onNavBackPress"/>
                <ToolbarSpacer/>
                <Button
                    id="buttonSettings"
                    icon="sap-icon://settings"
                    text="{user>/login}"
                    tooltip="Меню"
                    press="onSettingsButtonPress"/>
            </Toolbar>
        </subHeader>
        <SearchField
            id="searchField"
            placeholder="Выберите товар ..."
            enableSuggestions="true"
            suggest="onSuggest"
            search="onSearch"
            suggestionItems="{products>/}">
            <suggestionItems>
                <SuggestionItem key="{products>id}:{products>clientID}" text="{products>name}" description="{products>categoryName}"/>
            </suggestionItems>
        </SearchField>

        <f:SimpleForm id="formBestPrice" title="Лучшая цена для товара" visible="false">
            <f:content>
                <Label text="Магазин"/>
                <Text text="{bestPrice>/storeName}"/>
                <Label text="Стоимость"/>
                <Text text="{bestPrice>/price} {bestPrice>/currency} за {bestPrice>/unitFullName}"/>
                <Label text="Дата"/>
                <Text
                    text="{
                    path: 'bestPrice>/date',
                    type: 'sap.ui.model.type.Date',
                    formatOptions: {
                        style: 'long',
                        source: {
                            pattern: 'dd.MM.yyyy'
                        }
                    }
                }"/>
            </f:content>
        </f:SimpleForm>

    </Page>
</mvc:View>
